---
layout: post
title: ligolo-ng 사용법
subtitle: logolo-ng를 이용해서 포트포워딩, 네트워크 피보팅하기
category: knowledge
thumbnail-img: /assets/img/knowledge/ligolo_logo.png
tags: [ligolo, ligolo-ng, proxy, pivot, portforwarding]
author: Hong
---

> 우선 서버와 클라이언트에서 사용할 proxy, agent 바이너리 파일을 각각 다운받아야한다.

[깃허브](https://github.com/nicocha30/ligolo-ng)에서 다운로드.

SOCKS프록시를 사용하지 않기 때문에 설정 필요없고 간편하다.

1. 서버에서 원하는 포트 지정.

```
 ./proxy -selfcert -laddr "0.0.0.0:7878"
WARN[0000] Using default selfcert domain 'ligolo', beware of CTI, SOC and IoC!
WARN[0000] Using self-signed certificates
WARN[0000] TLS Certificate fingerprint for ligolo is: 961A1B781DE6D16C89601ACCC6FF50A1BA11F96D9A6B880CD9EE0C4DA1B2E7DD
INFO[0000] Listening on 0.0.0.0:7878
    __    _             __
   / /   (_)___ _____  / /___        ____  ____ _
  / /   / / __ `/ __ \/ / __ \______/ __ \/ __ `/
 / /___/ / /_/ / /_/ / / /_/ /_____/ / / / /_/ /
/_____/_/\__, /\____/_/\____/     /_/ /_/\__, /
        /____/                          /____/

  Made in France ♥            by @Nicocha30!
  Version: 0.7.5

ligolo-ng »
```

2. 인터페이스를 생성

`interface_create --name "evil-cha"`

3. 인터페이스에 route 주소를 추가. (타겟 머신의 네트워크 대역.)

`interface_add_route --name evil-cha --route 10.10.11.0/24`

4. 타겟 머신에서 서버 (어택머신)로 접속
`./agent -connect 10.10.14.3:11601 -ignore-cert`

5. proxy에서 세션 접속되었다는 메세지 확인 후, 세션 선택
`sessions`

6. 터널링 시작
`tunnel_start --tun evil-cha`



# 참고자료

관련 유튜브 영상의 [링크](https://www.youtube.com/watch?v=DM1B8S80EvQ&ab_channel=GonskiCyber)

참고한 블로그 [링크](https://software-sinner.medium.com/how-to-tunnel-and-pivot-networks-using-ligolo-ng-cf828e59e740)

**공식 깃허브 페이지** [링크](https://github.com/nicocha30/ligolo-ng/wiki/Quickstart)
